##   JAVA REDIS MESSENGER

###  1. Сборка
Проет собирается командной:`gradle build` При этом происходит выполнение всех тестов

**Внимание! Прежде чем выполнять сборку проекта приведённой выше командой, необходимо запустить сервер REDIS локально на порту 6379. Если сервер REDIS не запущен, некоторые тесты не будут выполняться, в этом случае можно собрать проект командой `gradle build -x test`**

В качестве сервера можно использовать входящий в поставку redis-embedded-server. Для этого необходимо перейти в директорию redis-embedded-server и запустить скрипт `redis.bat`

###  2. Запуск
Для запуска приложения необходимо из корневой директории выполнить команду:
`java -jar ./redis-messenger-application/build/libs/redis-messenger-application-ВЕРСИЯ_СБОРКИ.jar`

### 3. Импорт проекта
#### 3.1 Установка плагина Lombok
Для работы с проектом в IDE IntelliJ IDEA необходимо установить плагин Lombok. Для этого переходим в меню установки плагинов `Settings->Plugins` и пишем в окне поиска Lombok. Устанавливаем плагин, перезапускаем IDE.
#### 3.2 Корректная обработка аннотаций Lombok в IDE
Для корректной обработки аннотаций Lombok (в частности IDE не подсвечивает как ошибку логер) необходимо поставить флажок `Enable annotation processing`:
`Settings->Build, Execution, Deployment-Compiler->Annotation Processors->Enable annotation processing`

### 4. Работа с программой
#### 4.1 Создание пользователя
При первом запуске, если в хранилище ещё нет пользователей, автоматически создаётся пользователь класса _SuperUser_ с именем _super_. 
Для создания нового пользователя необходимо ввести в консоли команду `add user`, ввести класс пользователя (SuperUser, SimpleUser, AdvancedUser) и имя пользователя. 
При этом в хранилище будет сохранено строковое представление пользователя и его ключ вида _user:класс_пользователя:имя_пользователя_.
#### 4.2 Удаление пользователя
Для удаления пользователя ввести в консоли команду `delete user`, класс пользователя и имя пользователя.
#### 4.3 Выбор пользователя
Для выбора пользователя ввести в консоли команду `choice user`, класс пользователя и имя пользователя.
#### 4.4 Отправка сообщений
Для отправки сообщения ввести в консоли команду `send message`, класс пользователя и имя пользователя, которому будет адресовано сообщение, и текст сообщения.
#### 4.5 Получение переписки
Для получения переписки ввести в консоли команду `get messages`, класс пользователя и имя пользователя, с которым ведётся переписка.
#### 4.6 Выгрузка переписки
Для выгрузки переписки ввести в консоли команду `upload messages`, класс пользователя и имя пользователя, с которым ведётся переписка.
#### 4.7 Просмотр переписки в режиме реального времени
Для просмотра переписки в режиме реального веремени ввести в консоли команду `start chat`, класс пользователя и имя пользователя, с которым ведётся переписка.
Открыть консоль, выбрать другого пользователя и отправить сообщение. Сообщение отобразится в первой консоли. Корректный выход из чата не предусмотрен :-)
#### 4.8 Сброс пользователя
Для сброса пользвателя ввести в консоли команду `reset user`
#### 4.9 Закрыть консоль
Для прекращения работы с программой набрать команду `close console`